@using Vanp.DAL.Entites
@using System.Linq;

@model IEnumerable<Category>

@{
    var categories = (string)(ViewBag.SearchCategories + "");
    var categoryIds = categories.Split(',');
}
@categories
<div class="col-lg-3 col-md-3 col-sm-3 col-xs-12 hidden-xs search-block">
    <div class="search-box">
        <form action="/search" method="get" class="" id="search_mini_form" name="Categories">
            <span class="sb_down"></span>
            <input type="hidden" value="@categories" name="cats" class="categoryIds" />
            <input type="text" placeholder="Search entire store here..." value="@ViewBag.Search" maxlength="70" class="sb_input" name="search" id="search">
            <button type="submit" class="search-btn-bg"><span class="glyphicon glyphicon-search"></span>&nbsp;</button>
            <ul class="sb_dropdown" style="display:none;">
                <li class="sb_filter">Chọn Để Tìm Kiếm <span class="sb_close"><i class="fa fa-close"></i></span></li>
                <li><input type="checkbox" value="" /><label for="all"><strong>Tất Cả</strong></label></li>
                @foreach (var category in Model)
                {
                    <li><input type="checkbox" value="@category.Id" @(categoryIds.Contains(category.Id.ToString()) ? "checked" : "" ) /><label for="@category.CategoryName">@category.CategoryName</label></li>
                }
            </ul>
        </form>
    </div>
</div>